<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="./desktop.css">
    <!--<script src="./desktop.js"></script>-->
</head>
<body>
<section class="desktop"></section>

<script>
    /*
    0. 아이콘, 폴더를 원하는 만큼 생성
    1. 드래그
    2. 더블클릭 - 오픈
    3. 클로즈
    */

    document.addEventListener("DOMContentLoaded", () => new Desktop(10, 13));

    class Desktop {
        constructor(iconCount, folderCount) {
            this.iconCount = iconCount;
            this.folderCount = folderCount;
            this.desktopNode = document.querySelector('.desktop');
            this.addItem();
        }

        addItem() {
            for (let i = 0; i < this.iconCount; i++) {
                new Icon(this.desktopNode, i + 1);
            }

            for (let i = 0; i < this.folderCount; i++) {
                new Folder(this.desktopNode, i + 1, this.iconCount + i + 1);
            }
        }
    }

    class Icon {
        constructor(desktopNode, num) {
            this.num = num;
            this.name = 'icon';
            let iconNode = this.createIconNode();
            desktopNode.appendChild(iconNode);
        }

        createIconNode() {
            let node = document.createElement("div");
            node.classList.add('icon');
            node.innerText = this.name + this.num;
            node.setAttribute('style', `top: 20px; left: ${(100 * (this.num - 1) + (20 * this.num))}px;`);
            return node;
        }
    }

    class Folder {
        constructor(desktopNode, num, totalNum) {
            this.num = num;
            this.name = 'folder';
            this.totalNum = totalNum;
            let folderNode = this.createFolderNode();
            desktopNode.appendChild(folderNode);
        }

        createFolderNode() {
            let node = document.createElement("div");
            node.classList.add('folder');
            node.innerText = this.name + this.num + `(${this.totalNum})`;
            node.setAttribute('style', `top: 20px; left: ${(100 * (this.totalNum - 1) + (20 * this.totalNum))}px;`);
            return node;
        }
    }


</script>
</body>
</html>
